# 巨大コードの分割PJ

---

### アプリケーションの要件

このアプリケーションは、以下の要件を満たすように設計されています。

*   **GUIベースの操作**: PyQt5 を使用した直感的なグラフィカルユーザーインターフェースを提供します。
*   **画像ファイルのサポート**: PNG, JPG, JPEG, TIFF, BMP 形式の画像ファイルをサポートします。
*   **グリッドレイアウト**: ユーザーが指定した行と列の幅に基づいて画像をグリッド状に配置します。
*   **PDF出力**: 配置された画像をPDFファイルとして出力します。
*   **CMYKカラープロファイルの維持**: PDF出力時、CMYKカラープロファイルの画像をRGBに変換せず、元のCMYK形式を維持します。
*   **プレビュー機能**: PDF出力前に、グリッドレイアウトと画像配置のプレビューを表示します。プレビュー表示では、CMYK画像はRGBに変換されます。
*   **設定の保存と読み込み**: グリッド設定（行の高さ、列の幅、グリッド線の表示/非表示、色、線の太さ、用紙サイズ、マージン、出力DPI）をJSONファイルとして保存・読み込みできます。
*   **ドラッグ＆ドロップ対応**: 画像ファイルをアプリケーションにドラッグ＆ドロップして追加できます。
*   **バックグラウンド処理**: PDF生成やサムネイル生成などの時間のかかる処理はバックグラウンドスレッドで行い、UIの応答性を保ちます。