# Image Grid Tool

---

## 概要

このプロジェクトは、**巨大なPythonスクリプトをモジュール化し、保守性と拡張性の高いGUIアプリケーションとして再構築すること**を目的としています。具体的には、画像をグリッド状に配置したPDFを生成するツールを題材に、以下の点を達成することを目指します。

*   **コードの可読性と保守性の向上**: 単一の巨大なファイルに記述されていたコードを、機能ごとに独立したモジュールに分割することで、コードの見通しを良くし、変更やデバッグを容易にします。
*   **機能ごとの責任の明確化**: 各モジュールが特定の機能（UI、コアロジック、スレッド処理など）に責任を持つように設計することで、コードの変更が他の部分に与える影響を最小限に抑えます。
*   **再利用性の向上**: 分割されたモジュールは、将来的に他のプロジェクトや機能で再利用しやすいように設計します。
*   **ユーザーエクスペリエンスの改善**: バックグラウンド処理の導入などにより、UIの応答性を高め、ユーザーが快適に操作できるアプリケーションを提供します。

この再構築を通じて、より堅牢で、将来の機能追加にも柔軟に対応できるアプリケーション基盤を確立します。

---

## 機能

このアプリケーションは、以下の主要な機能を提供します。

*   **直感的なGUI操作**: PyQt5 を利用したユーザーフレンドリーなインターフェースで、簡単に画像を操作できます。
*   **多様な画像形式のサポート**: PNG, JPG, JPEG, TIFF, BMP 形式の画像ファイルを読み込み、処理できます。
*   **柔軟なグリッドレイアウト**: ユーザーが自由に設定できる行と列の幅に基づき、画像をグリッド状に配置します。
*   **高品質なPDF出力**: 配置された画像をPDFファイルとして出力します。CMYKカラープロファイルの画像は、PDF出力時もそのカラープロファイルを維持します。
*   **リアルタイムプレビュー**: PDF出力前に、設定変更がリアルタイムで反映されるプレビューを確認できます。プレビュー表示では、CMYK画像はRGBに変換されます。
*   **設定の保存・読み込み**: グリッドやページに関する詳細な設定をJSONファイルとして保存・読み込みできるため、作業の継続や共有が容易です。
*   **ドラッグ＆ドロップ対応**: 画像ファイルをアプリケーションに直接ドラッグ＆ドロップして、手軽に追加できます。
*   **スムーズな操作性**: PDF生成やサムネイル作成などの時間のかかる処理はバックグラウンドで実行されるため、アプリケーションがフリーズすることなく快適に作業できます。
*   **全セル埋め**: 指定された画像が少ない場合でも、全てのセルを画像で埋めるために、画像を繰り返して配置します。

---

## 使い方

1.  **依存関係のインストール**:
    ```bash
    pip install -r requirements.txt
    ```
2.  **アプリケーションの起動**:
    ```bash
    python main.py
    ```
    (仮想環境を使用している場合は、仮想環境をアクティベートしてから実行してください。)
3.  **画像を追加**: アプリケーションの左側のパネルにある「画像を追加」ボタンをクリックするか、画像ファイルをドラッグ＆ドロップしてください。
4.  **設定を調整**: グリッドやページの設定を調整し、プレビューで確認してください。
5.  **PDFを生成**: 「PDFを作成」ボタンをクリックし、出力先を指定してください。

---

## ディレクトリ構造

プロジェクトのより詳細なディレクトリ構造と各ファイルの役割については、[PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) を参照してください。
